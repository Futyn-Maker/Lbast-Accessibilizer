[Установить последнюю версию](https://greasyfork.org/scripts/408433-lbast-accessibilizer/code/Lbast%20accessibilizer.user.js)
[Страница скрипта на Greasy Fork](https://greasyfork.org/ru/scripts/408433-lbast-accessibilizer)

# Описание  

Данный скрипт предоставляет возможность более быстро взаимодействовать с игрой ["Последний бастион"](http://lbast.ru) при помощи клавиатуры, а также добавляет звуковую индикацию некоторых игровых событий.  
Прежде всего, этот скрипт рассчитан на незрячих игроков, которые не могут управлять компьютером при помощи мыши и, как следствие, несколько отстают в скорости от своих коллег с нормальным зрением, но может пригодиться всем, кто хочет использовать в игре горячие клавиши и звуки.  

## Возможности  

На данный момент реализованы следующие функции:  
* В бою:  
  * Звуковой сигнал при появлении ссылки сброса пар;  
  * Звуковой сигнал, когда вы сбросили пары;  
  * Звуковой сигнал при неуспешном сбросе пар (воспроизводится, когда вы видите "Вы уже бросали пары");  
  * Звуковой сигнал при успешном применении зелья отравления или ослабления;  
  * Звуковой сигнал при неуспешном применении зелья отравления или ослабления;  
  * Сброс пар по горячей клавише;  
  * Применение зелья отравления по горячей клавише;  
  * Применение зелья ослабления по горячей клавише;  
  * Применение эликсира регенерации по горячей клавише;  
  * Применение булыжника по горячей клавише;  
  * Применение осколка рога минотавра по горячей клавише;  
  * Применение древнего свитка мага по горячей клавише;  
  * Применение капсулы с порохом по горячей клавише;  
  * Применение улучшенной капсулы по горячей клавише;  
  * Применение свитка атаки за поясом по горячей клавише;  
  * Применение любого эликсира исцеления (кроме 900 HP) за поясом по горячей клавише;  
  * Применение эликсира исцеления 900 HP по горячей клавише;  
  * Активация страницы боевого инвентаря по горячей клавише;  
  * Активация страницы пояса по горячей клавише;  
  * Активация страницы магии по горячей клавише.  
* Во время просмотра идущего боя:  
  * Заход в бой против левой или правой стороны по горячим клавишам.  
* На форуме:  
  * Комфортная навигация по категориям форума при помощи клавиатуры.  
* В локации:  
  * Перемещение по локациям на север, юг, запад и восток по горячим клавишам.
* В любом месте игры, кроме боя:  
  * Применение жареной рыбы по горячей клавише;  
  * Применение праздничного эля по горячей клавише;  
  * Применение браги по горячей клавише;  
  * Применение коньяка по горячей клавише;  
  * Применение водки театральной по горячей клавише;  
  * Применение эля сокрытия по горячей клавише.  
* в магической гильдии в Мейджтауне:  
  * к названиям школ магии добавлена семантическая роль заголовка. Таким образом, для пользователей скрин-ридеров появляется возможность быстрой навигации по школам магии при её изучении.  

## Использование  

После установки скрипта его сразу же можно применять в игре. Ничего дополнительно настраивать не требуется.  

### В бою  

1. Когда на странице появляется ссылка для сброса пар, вы услышете короткий звуковой сигнал ([прослушать](https://raw.githubusercontent.com/Futyn-Maker/Lbast-Accessibilizer/main/sounds/beep.mp3)). Обратите внимание, что скрипт не сканирует игру в фоновом режиме - вы услышете звук только в том случае, если обновитесь в бою, и на странице будет ссылка сброса пар. Иначе говоря, если вы ссылки не видите, значит звука тоже не услышите;  
2. Вы услышите звуковой сигнал при успешном сбросе пар ([прослушать](https://raw.githubusercontent.com/Futyn-Maker/Lbast-Accessibilizer/main/sounds/clear.mp3));  
3. Вы услышите звуковой сигнал при неуспешном сбросе пар ([прослушать](https://raw.githubusercontent.com/Futyn-Maker/Lbast-Accessibilizer/main/sounds/notclear.mp3));  
4. Вы услышите звуковой сигнал при успешном применении эликсира отравления или ослабления ([прослушать](https://raw.githubusercontent.com/Futyn-Maker/Lbast-Accessibilizer/main/sounds/success.mp3));  
5. Вы услышите звуковой сигнал при неуспешном применении эликсира отравления или ослабления ([прослушать](https://raw.githubusercontent.com/Futyn-Maker/Lbast-Accessibilizer/main/sounds/fail.mp3));  
6. Когда присутствует ссылка для сброса пар, нажмите alt+\, чтобы сбросить пары;  
7. Нажмите alt+j, чтобы применить эликсир отравления;  
8. Нажмите alt+k, чтобы применить эликсир ослабления;  
9. Нажмите alt+r, чтобы применить эликсир регенерации;  
10. Нажмите alt+l, чтобы кинуть булыжник;  
11. Нажмите alt+p, чтобы кинуть осколок рога минотавра;  
12. Нажмите alt+u, чтобы применить древний свиток мага;  
13. Нажмите alt+b, чтобы применить капсулу с порохом;  
14. Нажмите alt+o, чтобы применить улучшенную капсулу с порохом;
15. Нажмите alt+1, чтобы применить свиток атаки за поясом. Обратите внимание, что если за поясом находится несколько свитков атаки, будет применён тот, который находится выше в списке;  
16. Нажмите alt+2, чтобы применить эликсир исцеления (любой, кроме 900 HP) за поясом. Обратите внимание, что если за поясом несколько эликсиров, будет применён тот, который находится выше в списке (эликсир 900 HP игнорируется);  
17. Нажмите alt+3, чтобы применить эликсир исцеления на 900 HP;  
18. Нажмите alt+i, чтобы перейти на страницу боевого инвентаря;  
19. Нажмите alt+a, чтобы перейти на страницу пояса;  
20. Нажмите alt+m, чтобы перейти на страницу магии.  

### Во время просмотра текущего боя  

1. Нажмите alt+[, чтобы зайти в бой против левой стороны. При этом вы сразу попадёте на поле боя;  
2. Нажмите alt+], чтобы зайти в бой против правой стороны. При этом вы сразу попадёте на поле боя.  

### На форуме  

При перемещении по списку категорий стрелками категория не будет выбираться автоматически - чтобы выбрать категорию, следует нажать на кнопку после списка. Таким образом, вы можете спокойно изучить весь список и выбрать нужную категорию с помощью стрелок.

### В локации  

**обратите внимание:  
Пользователям скрин-ридеров необходимо активировать режим, в котором клавиши передаются непосредственно активному приложению, чтобы использовать нижеописанные клавиши. В NVDA это режим редактирования, который включается комбинацией NVDA+Пробел, в JAWS необходимо включить виртуальный курсор (JAWS+Z).**  
1. Нажмите стрелку вверх, чтобы переместиться на север. При этом вы услышите голосовое подтверждение;  
2. Нажмите стрелку вниз, чтобы переместиться на юг. При этом вы услышите голосовое подтверждение;  
3. Нажмите стрелку влево, чтобы переместиться на запад. При этом вы услышите голосовое подтверждение;  
4. Нажмите стрелку вправо, чтобы переместиться на восток. При этом вы услышите голосовое подтверждение.  

### в любом месте игры, кроме боя  

1. Нажмите ctrl+alt+r, чтобы съесть жареную рыбу. При этом страница с результатом открывается в новой вкладке;  
2. Нажмите ctrl+alt+f, чтобы выпить праздничный эль. При этом страница с результатом откроется в новой вкладке;  
3. Нажмите ctrl+alt+b, чтобы выпить брагу. При этом страница с результатом откроется в новой вкладке;  
4. Нажмите ctrl+alt+k, чтобы выпить коньяк. При этом страница с результатом откроется в новой вкладке;  
5. Нажмите ctrl+alt+v, чтобы выпить водку театральную. При этом страница с результатом откроется в новой вкладке;  
6. Нажмите ctrl+alt+s, чтобы применить эль сокрытия. При этом страница с результатом откроется в новой вкладке.  

### В магической гильдии в Мейджтауне  

Нажимайте h и shift+h, чтобы быстро перемещаться по заголовкам, которые относятся к разным школам магии. **Обратите внимание, что функция доступна только пользователям программ чтения с экрана, таких как JAWS или NVDA.**  

## Обратная связь  

Любые предложения и замечания вы можете писать мне в игре. Мой ник: "Agent_". Кроме того, приветствуются [issues](https://github.com/Futyn-Maker/Lbast-Accessibilizer/issues) и [Pull Requests](https://github.com/Futyn-Maker/Lbast-Accessibilizer/pulls) в этом репозитории.